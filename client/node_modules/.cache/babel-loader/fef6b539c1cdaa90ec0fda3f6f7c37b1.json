{"ast":null,"code":"import React from \"react\";\nimport saveToLocalStorage, { store } from \"../store\";\nimport axios from \"axios\";\nimport { setHistory } from \"../reducers/appReducer\";\nexport const startHistory = async () => {\n  try {\n    const id = store.getState().user.currentUser.id;\n    const response = await axios.post('http://localhost:5000/history/response', {\n      id\n    });\n    store.dispatch(setHistory(response.data.response));\n    saveToLocalStorage('history', response.data.response);\n  } catch (e) {\n    console.log(e.response);\n  }\n};\nexport const refresh = () => {\n  let history = store.getState().app.history;\n  if (history.length === 0) store.dispatch(refreshHistory());\n};","map":{"version":3,"sources":["F:/Myproject/node1/client/src/actions/history.js"],"names":["React","saveToLocalStorage","store","axios","setHistory","startHistory","id","getState","user","currentUser","response","post","dispatch","data","e","console","log","refresh","history","app","length","refreshHistory"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,kBAAP,IAA4BC,KAA5B,QAAwC,UAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AAGA,OAAO,MAAOC,YAAY,GAAG,YAAW;AAEpC,MAAI;AACA,UAAMC,EAAE,GAAGJ,KAAK,CAACK,QAAN,GAAiBC,IAAjB,CAAsBC,WAAtB,CAAkCH,EAA7C;AACA,UAAMI,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,wCAAX,EAAoD;AACvEL,MAAAA;AADuE,KAApD,CAAvB;AAGDJ,IAAAA,KAAK,CAACU,QAAN,CAAeR,UAAU,CAACM,QAAQ,CAACG,IAAT,CAAcH,QAAf,CAAzB;AACCT,IAAAA,kBAAkB,CAAC,SAAD,EAAWS,QAAQ,CAACG,IAAT,CAAcH,QAAzB,CAAlB;AAEH,GARD,CAQE,OAAOI,CAAP,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACJ,QAAd;AACH;AAEJ,CAdM;AAgBP,OAAO,MAAMO,OAAO,GAAG,MAAI;AACvB,MAAIC,OAAO,GAAGhB,KAAK,CAACK,QAAN,GAAiBY,GAAjB,CAAqBD,OAAnC;AACA,MAAIA,OAAO,CAACE,MAAR,KAAmB,CAAvB,EAA0BlB,KAAK,CAACU,QAAN,CAAeS,cAAc,EAA7B;AAC7B,CAHM","sourcesContent":["import React from \"react\";\r\nimport saveToLocalStorage, {store} from \"../store\";\r\nimport axios from \"axios\";\r\nimport {setHistory} from \"../reducers/appReducer\";\r\n\r\n\r\nexport const  startHistory = async () =>{\r\n\r\n    try {\r\n        const id = store.getState().user.currentUser.id;\r\n        const response = await axios.post('http://localhost:5000/history/response',{\r\n            id\r\n        });\r\n       store.dispatch(setHistory(response.data.response));\r\n        saveToLocalStorage('history',response.data.response);\r\n\r\n    } catch (e) {\r\n        console.log(e.response);\r\n    }\r\n\r\n}\r\n\r\nexport const refresh = ()=>{\r\n    let history = store.getState().app.history;\r\n    if (history.length === 0) store.dispatch(refreshHistory());\r\n}"]},"metadata":{},"sourceType":"module"}