{"ast":null,"code":"import React from \"react\";\nimport { endGame, nextGame } from \"../reducers/gameReducer\";\nimport { store } from \"../reducers\";\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nexport const start = () => {\n  let input = document.querySelectorAll('input[type=checkbox]');\n  input.forEach(item => {\n    item.className = 'radioCustomButton';\n    item.checked = false;\n  });\n  document.querySelectorAll(\"label.radioCustomLabel1\").forEach(item => {\n    item.className = 'radioCustomLabel';\n  });\n};\nexport const next = (current, length) => {\n  var answer = checkAnswer();\n\n  if (current === length) {\n    setTimeout(() => end(answer, length), 500);\n  } else {\n    setTimeout(() => store.dispatch(nextGame(answer)), 500);\n  }\n};\n\nconst end = async (answer, length) => {\n  try {\n    const right = answer ? store.getState().game.rightAnswersCount + 1 : store.getState().game.rightAnswersCount;\n    const kind = store.getState().game.currentKind;\n    const user = store.getState().user.currentUser;\n    console.log(user);\n    const response = await axios.post('http://localhost:5000/auth/history', {\n      user,\n      kind,\n      right,\n      length\n    });\n    console.log(response.data);\n    store.dispatch(endGame(answer));\n  } catch (e) {\n    console.log(e.response);\n  }\n};\n\nconst giveAnswers = () => {\n  var selectedCheckBoxes = document.querySelectorAll('input:checked');\n  return Array.from(selectedCheckBoxes).map(cb => cb.value);\n};\n\nexport const setAnswer = () => {\n  let flag = checkAnswer();\n  let answer = giveAnswers();\n  let number = store.getState().game.currentQuestionCount;\n  document.getElementById('next').style.display = 'block';\n  document.getElementById('check').style.display = 'none';\n  answer.map((item, index) => {\n    let input = document.getElementById(item);\n    input.className = flag ? \"radioCustomButton1\" : \"radioCustomButton2\";\n  });\n  if (!flag) setTimeout(() => selectRightAnswer(), 500);\n  document.querySelectorAll('input[type=checkbox]').forEach(item => {\n    item.disabled = true;\n  });\n};\n\nconst selectRightAnswer = () => {\n  let input = document.querySelectorAll('input[type=checkbox]'),\n      rightAnswer = store.getState().game.rightAnswer;\n  input.forEach(item => {\n    item.className = 'radioCustomButton';\n    item.checked = false;\n  });\n  rightAnswer.map(item => {\n    document.querySelector(\"label[for=\" + item + \"]\").className = 'radioCustomLabel1';\n  });\n};\n\nconst checkAnswer = () => {\n  let answer = giveAnswers();\n  let count = 0,\n      flag = false,\n      rightAnswer = store.getState().game.rightAnswer;\n  answer.forEach(item => {\n    if (rightAnswer.includes(item)) count++;\n  });\n\n  if (rightAnswer.length === count && answer.length === rightAnswer.length) {\n    flag = true;\n  }\n\n  return flag;\n};","map":{"version":3,"sources":["F:/Myproject/node1/client/src/actions/game.js"],"names":["React","endGame","nextGame","store","useSelector","axios","start","input","document","querySelectorAll","forEach","item","className","checked","next","current","length","answer","checkAnswer","setTimeout","end","dispatch","right","getState","game","rightAnswersCount","kind","currentKind","user","currentUser","console","log","response","post","data","e","giveAnswers","selectedCheckBoxes","Array","from","map","cb","value","setAnswer","flag","number","currentQuestionCount","getElementById","style","display","index","selectRightAnswer","disabled","rightAnswer","querySelector","count","includes"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {endGame, nextGame} from \"../reducers/gameReducer\";\r\nimport {store} from \"../reducers\";\r\nimport {useSelector} from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport const start = () =>{\r\n    let input = document.querySelectorAll('input[type=checkbox]');\r\n    input.forEach((item)=>{\r\n        item.className = 'radioCustomButton';\r\n        item.checked = false;\r\n    })\r\n    document.querySelectorAll(\"label.radioCustomLabel1\").forEach((item)=>{\r\n        item.className = 'radioCustomLabel';\r\n    });\r\n}\r\n\r\nexport const next = (current,length) =>{\r\n\r\n    var answer = checkAnswer();\r\n    if (current === length) {\r\n        setTimeout(() => end(answer,length), 500);\r\n\r\n    } else  {\r\n        setTimeout(() => store.dispatch(nextGame(answer)), 500);\r\n    }\r\n}\r\n\r\n\r\nconst end = async (answer,length) =>{\r\n    try {\r\n        const right = answer ? store.getState().game.rightAnswersCount+1 : store.getState().game.rightAnswersCount;\r\n        const kind = store.getState().game.currentKind;\r\n        const user = store.getState().user.currentUser;\r\n        console.log(user);\r\n        const response = await axios.post('http://localhost:5000/auth/history',{\r\n            user,\r\n            kind,\r\n            right,\r\n            length\r\n        });\r\n        console.log(response.data);\r\n\r\n        store.dispatch(endGame(answer));\r\n    } catch (e) {\r\n        console.log(e.response)\r\n    }\r\n\r\n}\r\n\r\nconst giveAnswers = () =>{\r\n    var selectedCheckBoxes = document.querySelectorAll('input:checked');\r\n    return Array.from(selectedCheckBoxes).map(cb => cb.value);\r\n}\r\n\r\nexport const setAnswer = ()=>{\r\n    let flag = checkAnswer();\r\n    let answer = giveAnswers();\r\n    let number = store.getState().game.currentQuestionCount;\r\n    document.getElementById('next').style.display = 'block';\r\n    document.getElementById('check').style.display = 'none';\r\n    answer.map((item,index)=>{\r\n        let input = document.getElementById(item);\r\n        input.className = flag ? \"radioCustomButton1\" : \"radioCustomButton2\";\r\n    });\r\n    if (!flag) setTimeout(()=>selectRightAnswer(),500);\r\n    document.querySelectorAll('input[type=checkbox]').forEach((item)=>{\r\n        item.disabled = true;\r\n    })\r\n}\r\n\r\nconst selectRightAnswer = ()=>{\r\n    let input = document.querySelectorAll('input[type=checkbox]'),\r\n        rightAnswer = store.getState().game.rightAnswer;\r\n    input.forEach((item)=>{\r\n        item.className = 'radioCustomButton';\r\n        item.checked = false;\r\n    });\r\n    rightAnswer.map((item)=>{\r\n        document.querySelector(\"label[for=\"+item+\"]\").className = 'radioCustomLabel1';\r\n    });\r\n}\r\n\r\n\r\nconst checkAnswer = () =>{\r\n    let answer = giveAnswers();\r\n    let count = 0, flag = false,\r\n        rightAnswer = store.getState().game.rightAnswer;\r\n    answer.forEach((item)=>{\r\n        if(rightAnswer.includes(item))\r\n            count++;\r\n    });\r\n    if(rightAnswer.length === count && answer.length === rightAnswer.length){\r\n        flag = true;\r\n    }\r\n    return flag;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}